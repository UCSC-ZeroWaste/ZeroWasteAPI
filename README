Zero Waste Interface API

API

Host `zerowaste.ucsc.edu`


GETTING ACESSS TOKENS

Setup

You will first need to provide the application mssql server and Mongodb enviroment varibles. Create a config.js file with the following.
module.exports = {
  'secret': '',
  // mongoDB
  'mongodb_host': '',
  'mongodb_user': '',
  'mongodb_password': '',
  // mssql DB
  'mssql_ip': '',
  'mssql_user': '',
  'mssql_pass': '',
  'mssql_database': ''
};

Running

Stopping Process

Find your port number.
netstat -nlp | grep :8080
tcp        0      0 0.0.0.0:8080         0.0.0.0:*                   LISTEN      1073/node
Kill the process.
kill 1073
# Force kill
kill -9 1073


      schema:
      [
       {
         PickupTime: "2017-08-09T00:13:00.000Z",
         Year_Month: "2017-08",
         Month_Num: 8,
         Week_Num: "2017-32",
         LoadmanAcct: 907,
         LoadName: "RR-CMK-OR",
         LoadName_Split: "RR-CMK-OR",
         Product: "Compost",
         Diversion_Type: "Diverted",
         ContainerType: "Roll Off",
         Size_CY: 20,
         Location: "Crown/Merrill Kitchen",
         Location_Type: "Dining",
         Load_Split: 12120
       },
       ...
     ]


      Error response:
      {
        code: "EREQUEST",
        number: 2812,
        lineNumber: 1,
        state: 62,
        class: 16,
        serverName: "PP-PROD-DB-1",
        procName: "",
        originalError: {
          info: {
          number: 2812,
          state: 62,
          class: 16,
          message: "Could not find stored procedure 'S'.",
          serverName: "PP-PROD-DB-1",
          procName: "",
          lineNumber: 1,
          name: "ERROR",
          event: "errorMessage"
          }
        },
        name: "RequestError",
        precedingErrors: [ ]
      }
